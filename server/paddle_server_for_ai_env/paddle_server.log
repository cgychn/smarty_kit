nohup: ignoring input
/opt/paddle_gpu_no_cuda/lib/python3.8/site-packages/_distutils_hack/__init__.py:33: UserWarning: Setuptools is replacing distutils.
  warnings.warn("Setuptools is replacing distutils.")
[2023-09-09 23:41:15,628] [ WARNING] paddleocr.py:244 - version 2.1 not support cls models, use version 2.0 instead
inited
[2023/09/09 23:41:15] root WARNING: version 2.1 not support cls models, use version 2.0 instead
[1m[35m--- Running analysis [ir_graph_build_pass][0m
I0909 23:41:15.771056  2229 executor.cc:187] Old Executor is Running.
[1m[35m--- Running analysis [ir_analysis_pass][0m
[32m--- Running IR pass [map_op_to_another_pass][0m
I0909 23:41:15.783172  2229 fuse_pass_base.cc:59] ---  detected 15 subgraphs
[32m--- Running IR pass [identity_scale_op_clean_pass][0m
I0909 23:41:15.783998  2229 fuse_pass_base.cc:59] ---  detected 1 subgraphs
[32m--- Running IR pass [is_test_pass][0m
[32m--- Running IR pass [simplify_with_basic_ops_pass][0m
[32m--- Running IR pass [delete_quant_dequant_linear_op_pass][0m
[32m--- Running IR pass [delete_weight_dequant_linear_op_pass][0m
[32m--- Running IR pass [constant_folding_pass][0m
[32m--- Running IR pass [silu_fuse_pass][0m
[32m--- Running IR pass [conv_bn_fuse_pass][0m
I0909 23:41:15.840374  2229 fuse_pass_base.cc:59] ---  detected 48 subgraphs
[32m--- Running IR pass [conv_eltwiseadd_bn_fuse_pass][0m
[32m--- Running IR pass [embedding_eltwise_layernorm_fuse_pass][0m
[32m--- Running IR pass [multihead_matmul_fuse_pass_v2][0m
[32m--- Running IR pass [vit_attention_fuse_pass][0m
[32m--- Running IR pass [fused_multi_transformer_encoder_pass][0m
[32m--- Running IR pass [fused_multi_transformer_decoder_pass][0m
[32m--- Running IR pass [fused_multi_transformer_encoder_fuse_qkv_pass][0m
[32m--- Running IR pass [fused_multi_transformer_decoder_fuse_qkv_pass][0m
[32m--- Running IR pass [multi_devices_fused_multi_transformer_encoder_pass][0m
[32m--- Running IR pass [multi_devices_fused_multi_transformer_encoder_fuse_qkv_pass][0m
[32m--- Running IR pass [multi_devices_fused_multi_transformer_decoder_fuse_qkv_pass][0m
[32m--- Running IR pass [fuse_multi_transformer_layer_pass][0m
[32m--- Running IR pass [gpu_cpu_squeeze2_matmul_fuse_pass][0m
[32m--- Running IR pass [gpu_cpu_reshape2_matmul_fuse_pass][0m
[32m--- Running IR pass [gpu_cpu_flatten2_matmul_fuse_pass][0m
[32m--- Running IR pass [gpu_cpu_map_matmul_v2_to_mul_pass][0m
[32m--- Running IR pass [gpu_cpu_map_matmul_v2_to_matmul_pass][0m
[32m--- Running IR pass [matmul_scale_fuse_pass][0m
[32m--- Running IR pass [multihead_matmul_fuse_pass_v3][0m
[32m--- Running IR pass [gpu_cpu_map_matmul_to_mul_pass][0m
[32m--- Running IR pass [fc_fuse_pass][0m
[32m--- Running IR pass [fc_elementwise_layernorm_fuse_pass][0m
[32m--- Running IR pass [conv_elementwise_add_act_fuse_pass][0m
I0909 23:41:16.210826  2229 fuse_pass_base.cc:59] ---  detected 13 subgraphs
[32m--- Running IR pass [conv_elementwise_add2_act_fuse_pass][0m
[32m--- Running IR pass [conv_elementwise_add_fuse_pass][0m
I0909 23:41:16.232331  2229 fuse_pass_base.cc:59] ---  detected 35 subgraphs
[32m--- Running IR pass [transpose_flatten_concat_fuse_pass][0m
[32m--- Running IR pass [conv2d_fusion_layout_transfer_pass][0m
[32m--- Running IR pass [transfer_layout_elim_pass][0m
[32m--- Running IR pass [auto_mixed_precision_pass][0m
[32m--- Running IR pass [inplace_op_var_pass][0m
[1m[35m--- Running analysis [save_optimized_model_pass][0m
W0909 23:41:16.235235  2229 save_optimized_model_pass.cc:28] save_optim_cache_model is turned off, skip save_optimized_model_pass
[1m[35m--- Running analysis [ir_params_sync_among_devices_pass][0m
I0909 23:41:16.235244  2229 ir_params_sync_among_devices_pass.cc:51] Sync params from CPU to GPU
[1m[35m--- Running analysis [adjust_cudnn_workspace_size_pass][0m
[1m[35m--- Running analysis [inference_op_replace_pass][0m
[1m[35m--- Running analysis [memory_optimize_pass][0m
I0909 23:41:16.241047  2229 memory_optimize_pass.cc:222] Cluster name : conv2d_179.tmp_0  size: 345600
I0909 23:41:16.241060  2229 memory_optimize_pass.cc:222] Cluster name : elementwise_add_2  size: 1382400
I0909 23:41:16.241063  2229 memory_optimize_pass.cc:222] Cluster name : nearest_interp_v2_4.tmp_0  size: 5529600
I0909 23:41:16.241065  2229 memory_optimize_pass.cc:222] Cluster name : relu_1.tmp_0  size: 7372800
I0909 23:41:16.241066  2229 memory_optimize_pass.cc:222] Cluster name : elementwise_add_8  size: 288000
I0909 23:41:16.241068  2229 memory_optimize_pass.cc:222] Cluster name : x  size: 11059200
I0909 23:41:16.241070  2229 memory_optimize_pass.cc:222] Cluster name : batch_norm_75.tmp_3  size: 22118400
I0909 23:41:16.241072  2229 memory_optimize_pass.cc:222] Cluster name : tmp_2  size: 22118400
I0909 23:41:16.241075  2229 memory_optimize_pass.cc:222] Cluster name : relu_2.tmp_0  size: 29491200
[1m[35m--- Running analysis [ir_graph_to_program_pass][0m
I0909 23:41:16.282438  2229 analysis_predictor.cc:1660] ======= optimize end =======
I0909 23:41:16.283262  2229 naive_executor.cc:164] ---  skip [feed], feed -> x
I0909 23:41:16.284490  2229 naive_executor.cc:164] ---  skip [save_infer_model/scale_0.tmp_1], fetch -> fetch
[1m[35m--- Running analysis [ir_graph_build_pass][0m
[1m[35m--- Running analysis [ir_analysis_pass][0m
[32m--- Running IR pass [map_op_to_another_pass][0m
I0909 23:41:16.358275  2229 fuse_pass_base.cc:59] ---  detected 13 subgraphs
[32m--- Running IR pass [identity_scale_op_clean_pass][0m
I0909 23:41:16.358892  2229 fuse_pass_base.cc:59] ---  detected 1 subgraphs
[32m--- Running IR pass [is_test_pass][0m
[32m--- Running IR pass [simplify_with_basic_ops_pass][0m
[32m--- Running IR pass [delete_quant_dequant_linear_op_pass][0m
[32m--- Running IR pass [delete_weight_dequant_linear_op_pass][0m
[32m--- Running IR pass [constant_folding_pass][0m
[32m--- Running IR pass [silu_fuse_pass][0m
[32m--- Running IR pass [conv_bn_fuse_pass][0m
I0909 23:41:16.382267  2229 fuse_pass_base.cc:59] ---  detected 27 subgraphs
[32m--- Running IR pass [conv_eltwiseadd_bn_fuse_pass][0m
[32m--- Running IR pass [embedding_eltwise_layernorm_fuse_pass][0m
[32m--- Running IR pass [multihead_matmul_fuse_pass_v2][0m
[32m--- Running IR pass [vit_attention_fuse_pass][0m
[32m--- Running IR pass [fused_multi_transformer_encoder_pass][0m
[32m--- Running IR pass [fused_multi_transformer_decoder_pass][0m
[32m--- Running IR pass [fused_multi_transformer_encoder_fuse_qkv_pass][0m
[32m--- Running IR pass [fused_multi_transformer_decoder_fuse_qkv_pass][0m
[32m--- Running IR pass [multi_devices_fused_multi_transformer_encoder_pass][0m
[32m--- Running IR pass [multi_devices_fused_multi_transformer_encoder_fuse_qkv_pass][0m
[32m--- Running IR pass [multi_devices_fused_multi_transformer_decoder_fuse_qkv_pass][0m
[32m--- Running IR pass [fuse_multi_transformer_layer_pass][0m
[32m--- Running IR pass [gpu_cpu_squeeze2_matmul_fuse_pass][0m
[32m--- Running IR pass [gpu_cpu_reshape2_matmul_fuse_pass][0m
[32m--- Running IR pass [gpu_cpu_flatten2_matmul_fuse_pass][0m
[32m--- Running IR pass [gpu_cpu_map_matmul_v2_to_mul_pass][0m
[32m--- Running IR pass [gpu_cpu_map_matmul_v2_to_matmul_pass][0m
[32m--- Running IR pass [matmul_scale_fuse_pass][0m
[32m--- Running IR pass [multihead_matmul_fuse_pass_v3][0m
[32m--- Running IR pass [gpu_cpu_map_matmul_to_mul_pass][0m
I0909 23:41:16.569662  2229 fuse_pass_base.cc:59] ---  detected 2 subgraphs
[32m--- Running IR pass [fc_fuse_pass][0m
I0909 23:41:16.571610  2229 fuse_pass_base.cc:59] ---  detected 2 subgraphs
[32m--- Running IR pass [fc_elementwise_layernorm_fuse_pass][0m
[32m--- Running IR pass [conv_elementwise_add_act_fuse_pass][0m
I0909 23:41:16.576768  2229 fuse_pass_base.cc:59] ---  detected 2 subgraphs
[32m--- Running IR pass [conv_elementwise_add2_act_fuse_pass][0m
[32m--- Running IR pass [conv_elementwise_add_fuse_pass][0m
I0909 23:41:16.589845  2229 fuse_pass_base.cc:59] ---  detected 29 subgraphs
[32m--- Running IR pass [transpose_flatten_concat_fuse_pass][0m
[32m--- Running IR pass [conv2d_fusion_layout_transfer_pass][0m
[32m--- Running IR pass [transfer_layout_elim_pass][0m
[32m--- Running IR pass [auto_mixed_precision_pass][0m
[32m--- Running IR pass [inplace_op_var_pass][0m
I0909 23:41:16.593606  2229 fuse_pass_base.cc:59] ---  detected 1 subgraphs
[1m[35m--- Running analysis [save_optimized_model_pass][0m
W0909 23:41:16.593988  2229 save_optimized_model_pass.cc:28] save_optim_cache_model is turned off, skip save_optimized_model_pass
[1m[35m--- Running analysis [ir_params_sync_among_devices_pass][0m
I0909 23:41:16.593997  2229 ir_params_sync_among_devices_pass.cc:51] Sync params from CPU to GPU
[1m[35m--- Running analysis [adjust_cudnn_workspace_size_pass][0m
[1m[35m--- Running analysis [inference_op_replace_pass][0m
[1m[35m--- Running analysis [memory_optimize_pass][0m
I0909 23:41:16.599161  2229 memory_optimize_pass.cc:222] Cluster name : lstm_1.tmp_3  size: 1
I0909 23:41:16.599167  2229 memory_optimize_pass.cc:222] Cluster name : lstm_1._generated_var_0  size: 1
I0909 23:41:16.599169  2229 memory_optimize_pass.cc:222] Cluster name : fill_constant_batch_size_like_0.tmp_0  size: 1024
I0909 23:41:16.599171  2229 memory_optimize_pass.cc:222] Cluster name : batch_norm_48.tmp_3  size: 204800
I0909 23:41:16.599174  2229 memory_optimize_pass.cc:222] Cluster name : fill_constant_batch_size_like_1.tmp_0  size: 1024
I0909 23:41:16.599174  2229 memory_optimize_pass.cc:222] Cluster name : x  size: 38400
I0909 23:41:16.599176  2229 memory_optimize_pass.cc:222] Cluster name : batch_norm_37.tmp_2  size: 204800
I0909 23:41:16.599179  2229 memory_optimize_pass.cc:222] Cluster name : lstm_1.tmp_2  size: 1024
I0909 23:41:16.599180  2229 memory_optimize_pass.cc:222] Cluster name : student_ctc_head_2.tmp_1  size: 662500
[1m[35m--- Running analysis [ir_graph_to_program_pass][0m
I0909 23:41:16.624150  2229 analysis_predictor.cc:1660] ======= optimize end =======
I0909 23:41:16.624398  2229 naive_executor.cc:164] ---  skip [feed], feed -> x
I0909 23:41:16.625221  2229 naive_executor.cc:164] ---  skip [save_infer_model/scale_0.tmp_1], fetch -> fetch
[1m[35m--- Running analysis [ir_graph_build_pass][0m
[1m[35m--- Running analysis [ir_analysis_pass][0m
[32m--- Running IR pass [map_op_to_another_pass][0m
I0909 23:41:16.696066  2229 fuse_pass_base.cc:59] ---  detected 11 subgraphs
[32m--- Running IR pass [identity_scale_op_clean_pass][0m
[32m--- Running IR pass [is_test_pass][0m
[32m--- Running IR pass [simplify_with_basic_ops_pass][0m
[32m--- Running IR pass [delete_quant_dequant_linear_op_pass][0m
[32m--- Running IR pass [delete_weight_dequant_linear_op_pass][0m
[32m--- Running IR pass [constant_folding_pass][0m
[32m--- Running IR pass [silu_fuse_pass][0m
[32m--- Running IR pass [conv_bn_fuse_pass][0m
I0909 23:41:16.735630  2229 fuse_pass_base.cc:59] ---  detected 35 subgraphs
[32m--- Running IR pass [conv_eltwiseadd_bn_fuse_pass][0m
[32m--- Running IR pass [embedding_eltwise_layernorm_fuse_pass][0m
[32m--- Running IR pass [multihead_matmul_fuse_pass_v2][0m
[32m--- Running IR pass [vit_attention_fuse_pass][0m
[32m--- Running IR pass [fused_multi_transformer_encoder_pass][0m
[32m--- Running IR pass [fused_multi_transformer_decoder_pass][0m
[32m--- Running IR pass [fused_multi_transformer_encoder_fuse_qkv_pass][0m
[32m--- Running IR pass [fused_multi_transformer_decoder_fuse_qkv_pass][0m
[32m--- Running IR pass [multi_devices_fused_multi_transformer_encoder_pass][0m
[32m--- Running IR pass [multi_devices_fused_multi_transformer_encoder_fuse_qkv_pass][0m
[32m--- Running IR pass [multi_devices_fused_multi_transformer_decoder_fuse_qkv_pass][0m
[32m--- Running IR pass [fuse_multi_transformer_layer_pass][0m
[32m--- Running IR pass [gpu_cpu_squeeze2_matmul_fuse_pass][0m
[32m--- Running IR pass [gpu_cpu_reshape2_matmul_fuse_pass][0m
[32m--- Running IR pass [gpu_cpu_flatten2_matmul_fuse_pass][0m
[32m--- Running IR pass [gpu_cpu_map_matmul_v2_to_mul_pass][0m
I0909 23:41:17.105641  2229 fuse_pass_base.cc:59] ---  detected 1 subgraphs
[32m--- Running IR pass [gpu_cpu_map_matmul_v2_to_matmul_pass][0m
[32m--- Running IR pass [matmul_scale_fuse_pass][0m
[32m--- Running IR pass [multihead_matmul_fuse_pass_v3][0m
[32m--- Running IR pass [gpu_cpu_map_matmul_to_mul_pass][0m
[32m--- Running IR pass [fc_fuse_pass][0m
I0909 23:41:17.121984  2229 fuse_pass_base.cc:59] ---  detected 1 subgraphs
[32m--- Running IR pass [fc_elementwise_layernorm_fuse_pass][0m
[32m--- Running IR pass [conv_elementwise_add_act_fuse_pass][0m
I0909 23:41:17.139185  2229 fuse_pass_base.cc:59] ---  detected 15 subgraphs
[32m--- Running IR pass [conv_elementwise_add2_act_fuse_pass][0m
[32m--- Running IR pass [conv_elementwise_add_fuse_pass][0m
I0909 23:41:17.161803  2229 fuse_pass_base.cc:59] ---  detected 38 subgraphs
[32m--- Running IR pass [transpose_flatten_concat_fuse_pass][0m
[32m--- Running IR pass [conv2d_fusion_layout_transfer_pass][0m
[32m--- Running IR pass [transfer_layout_elim_pass][0m
[32m--- Running IR pass [auto_mixed_precision_pass][0m
[32m--- Running IR pass [inplace_op_var_pass][0m
[1m[35m--- Running analysis [save_optimized_model_pass][0m
W0909 23:41:17.164361  2229 save_optimized_model_pass.cc:28] save_optim_cache_model is turned off, skip save_optimized_model_pass
[1m[35m--- Running analysis [ir_params_sync_among_devices_pass][0m
I0909 23:41:17.164371  2229 ir_params_sync_among_devices_pass.cc:51] Sync params from CPU to GPU
[1m[35m--- Running analysis [adjust_cudnn_workspace_size_pass][0m
[1m[35m--- Running analysis [inference_op_replace_pass][0m
[1m[35m--- Running analysis [memory_optimize_pass][0m
I0909 23:41:17.170316  2229 memory_optimize_pass.cc:222] Cluster name : x  size: 12
I0909 23:41:17.170323  2229 memory_optimize_pass.cc:222] Cluster name : elementwise_add_5  size: 128
I0909 23:41:17.170325  2229 memory_optimize_pass.cc:222] Cluster name : hardsigmoid_7.tmp_0  size: 800
I0909 23:41:17.170327  2229 memory_optimize_pass.cc:222] Cluster name : reshape2_0.tmp_0  size: 800
I0909 23:41:17.170329  2229 memory_optimize_pass.cc:222] Cluster name : batch_norm_27.tmp_3  size: 128
I0909 23:41:17.170331  2229 memory_optimize_pass.cc:222] Cluster name : batch_norm_28.tmp_3  size: 800
[1m[35m--- Running analysis [ir_graph_to_program_pass][0m
I0909 23:41:17.224471  2229 analysis_predictor.cc:1660] ======= optimize end =======
I0909 23:41:17.226851  2229 naive_executor.cc:164] ---  skip [feed], feed -> x
I0909 23:41:17.228389  2229 naive_executor.cc:164] ---  skip [softmax_0.tmp_0], fetch -> fetch
Namespace(benchmark=False, cls_batch_num=6, cls_image_shape='3, 48, 192', cls_model_dir='/root/.paddleocr/2.3/ocr/cls/ch_ppocr_mobile_v2.0_cls_infer', cls_thresh=0.9, cpu_threads=10, det=True, det_algorithm='DB', det_db_box_thresh=0.6, det_db_score_mode='fast', det_db_thresh=0.3, det_db_unclip_ratio=1.5, det_east_cover_thresh=0.1, det_east_nms_thresh=0.2, det_east_score_thresh=0.8, det_limit_side_len=960, det_limit_type='max', det_model_dir='/root/.paddleocr/2.3/ocr/det/ch/ch_PP-OCRv2_det_infer', det_sast_nms_thresh=0.2, det_sast_polygon=False, det_sast_score_thresh=0.5, drop_score=0.5, e2e_algorithm='PGNet', e2e_char_dict_path='./ppocr/utils/ic15_dict.txt', e2e_limit_side_len=768, e2e_limit_type='max', e2e_model_dir=None, e2e_pgnet_mode='fast', e2e_pgnet_polygon=True, e2e_pgnet_score_thresh=0.5, e2e_pgnet_valid_set='totaltext', enable_mkldnn=False, gpu_mem=1000, help='==SUPPRESS==', image_dir=None, ir_optim=True, label_list=['0', '180'], lang='ch', layout_path_model='lp://PubLayNet/ppyolov2_r50vd_dcn_365e_publaynet/config', max_batch_size=10, max_text_length=25, min_subgraph_size=15, output='./output/table', precision='fp32', process_id=0, rec=True, rec_algorithm='CRNN', rec_batch_num=6, rec_char_dict_path='/opt/paddle_gpu_no_cuda/lib/python3.8/site-packages/paddleocr/ppocr/utils/ppocr_keys_v1.txt', rec_char_type='ch', rec_image_shape='3, 32, 320', rec_model_dir='/root/.paddleocr/2.3/ocr/rec/ch/ch_PP-OCRv2_rec_infer', save_log_path='./log_output/', show_log=True, table_char_dict_path=None, table_char_type='en', table_max_len=488, table_model_dir=None, total_process_num=1, type='ocr', use_angle_cls=True, use_dilation=False, use_gpu=True, use_mp=False, use_pdserving=False, use_space_char=True, use_tensorrt=False, version='2.1', vis_font_path='./doc/fonts/simfang.ttf', warmup=True)
Traceback (most recent call last):
  File "PaddleServer.py", line 5, in <module>
    uvicorn.run("PaddleServerRestful:app", host="0.0.0.0", port=8099, log_level="info")
  File "/opt/paddle_gpu_no_cuda/lib/python3.8/site-packages/uvicorn/main.py", line 587, in run
    server.run()
  File "/opt/paddle_gpu_no_cuda/lib/python3.8/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
  File "/opt/paddle_gpu_no_cuda/lib/python3.8/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/opt/paddle_gpu_no_cuda/lib/python3.8/asyncio/base_events.py", line 616, in run_until_complete
    return future.result()
  File "/opt/paddle_gpu_no_cuda/lib/python3.8/site-packages/uvicorn/server.py", line 68, in serve
    config.load()
  File "/opt/paddle_gpu_no_cuda/lib/python3.8/site-packages/uvicorn/config.py", line 467, in load
    self.loaded_app = import_from_string(self.app)
  File "/opt/paddle_gpu_no_cuda/lib/python3.8/site-packages/uvicorn/importer.py", line 21, in import_from_string
    module = importlib.import_module(module_str)
  File "/opt/paddle_gpu_no_cuda/lib/python3.8/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1014, in _gcd_import
  File "<frozen importlib._bootstrap>", line 991, in _find_and_load
  File "<frozen importlib._bootstrap>", line 975, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 671, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 843, in exec_module
  File "<frozen importlib._bootstrap>", line 219, in _call_with_frames_removed
  File "/opt/paddle_server/src/PaddleServerRestful.py", line 14, in <module>
    asr.init()
  File "/opt/paddle_server/src/VoiceToTextExecutor.py", line 19, in init
    self._init_from_path(model, lang, sample_rate, config, decode_method,
  File "/opt/paddle_gpu_no_cuda/lib/python3.8/site-packages/paddlespeech/cli/asr/infer.py", line 159, in _init_from_path
    self.task_resource.set_task_model(tag, version=None)
  File "/opt/paddle_gpu_no_cuda/lib/python3.8/site-packages/paddlespeech/resource/resource.py", line 74, in set_task_model
    assert model_tag in self.pretrained_models, \
AssertionError: Can't find "conformer_u2pp_online_wenetspeech-zh-8k" in resource. Model name must be one of ['conformer_wenetspeech-zh-16k', 'conformer_online_wenetspeech-zh-16k', 'conformer_u2pp_online_wenetspeech-zh-16k', 'conformer_online_multicn-zh-16k', 'conformer_aishell-zh-16k', 'conformer_online_aishell-zh-16k', 'transformer_librispeech-en-16k', 'deepspeech2online_wenetspeech-zh-16k', 'deepspeech2offline_aishell-zh-16k', 'deepspeech2online_aishell-zh-16k', 'deepspeech2offline_librispeech-en-16k', 'conformer_talcs-codeswitch_zh_en-16k']
